<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">

	<title>订单详情</title>

	<!-- Fonts -->
	<link rel="stylesheet" href="assets/fonts/Lato/Lato.css">

	<!-- Icons -->
	<link rel="stylesheet" href="assets/fonts/flaticon/flaticon.css">
	<link rel="stylesheet" href="assets/fonts/webfont/css/materialdesignicons.min.css">

	<!-- Libs -->
	<link rel="stylesheet" href="libs/bootstrap-4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="libs/select2/css/select2.min.css">
	<link rel="stylesheet" href="libs/slick/slick.css">

	<!-- Theme -->
	<link rel="stylesheet" href="assets/css/style.css">
	<meta name="theme-color" content="#ECECEC">

	<!-- jquery -->
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css" />
	<script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
	<!-- jquery-validator -->
	<script type="text/javascript" src="/jquery-validation/jquery.validate.min.js"></script>
	<script type="text/javascript" src="/jquery-validation/localization/messages_zh.min.js"></script>
	<!-- layer -->
	<script type="text/javascript" src="/layer/layer.js"></script>
	<!-- md5.js -->
	<script type="text/javascript" src="/js/md5.min.js"></script>
	<!-- common.js -->
	<script type="text/javascript" src="/js/common.js"></script>

	<script>

		function render(detail){
			var goods = detail.goods;
			var order = detail.order;
			$("#goodsName").text(goods.goodsName);
			$("#goodsImg").attr("src", goods.goodsImg);
			$("#orderPrice").text(order.goodsPrice);
			$("#address").text(order.address);
			$("#mobile").text(order.userId);
			$("#createDate").text(new Date(order.createDate).format("yyyy-MM-dd hh:mm:ss"));
			var status = "";
			if(order.status == 0){
				status = "未支付"
			}else if(order.status == 1){
				status = "待发货";
			}
			$("#orderStatus").text(status);

		}

		$(function(){
			getOrderDetail();
		})

		function getOrderDetail(){
			var orderId = g_getQueryString("orderId");
			console.log(orderId);
			$.ajax({
				url:"/order/groupDetail",
				type:"GET",
				data:{
					orderId:orderId
				},
				success:function(data){
					if(data.code === 0){
						render(data.data);
					}else{
						layer.msg(data.msg);
					}
				},
				error:function(){
					layer.msg("客户端请求有误");
				}
			});
		}

	</script>

</head>


<body>


	<div class="head-line"></div>


	<div id="head"></div>

	<div class="page-wrap cart shop">
		<!-- Breadcrumbs -->
		<nav aria-label="breadcrumb" class="page-breadcrumb">
			<div class="container">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="/">主页</a></li>
					<li class="breadcrumb-item active" aria-current="page">个人中心</li>
				</ol>
			</div>
		</nav>

		<div class="page-content">
			<main class="main-content">
				<div class="container">
					<h1 class="page-title h3 text-center">订单详情</h1>
<!--					<button type="button" class="btn btn-primary mr-1 mb-3" onclick="changeUser()">修改个人信息</button>-->
<!--					<button type="button" class="btn btn-primary mr-1 mb-3" onclick="changeUser()">修改密码</button>-->

					<div class="panel panel-default" >
						<div class="panel-heading">秒杀订单详情</div>
						<table class="table" id="goodslist">
							<tr>
								<td>商品名称</td>
								<td colspan="3" id="goodsName"></td>
							</tr>
							<tr>
								<td>商品图片</td>
								<td colspan="2"><img  id="goodsImg" width="200" height="200" /></td>
							</tr>
							<tr>
								<td>订单价格</td>
								<td colspan="2"  id="orderPrice"></td>
							</tr>
							<tr>
								<td>下单时间</td>
								<td id="createDate" colspan="2"></td>
							</tr>
							<tr>
								<td>订单状态</td>
								<td id="orderStatus">
								</td>
								<td>
									<button class="btn btn-primary btn-block" type="submit" id="payButton">立即支付</button>
								</td>
							</tr>
							<tr>
								<td>收货人</td>
								<td colspan="2" id="mobile"></td>
							</tr>
							<tr>
								<td>收货地址</td>
								<td colspan="2" id="address"></td>
							</tr>
						</table>
					</div>

<!--					<div class="row justify-content-between">-->
<!--						<div class="col-lg-3">-->
<!--							<h3 class="simple-heading mb-4">订单总额</h3>-->

<!--							<form action="/" class="calc-shipping">-->
<!--								<div class="form-group">-->
<!--									<select class="form-control js-select2" data-placeholder="Choose country">-->
<!--										<option value="">选择 国家</option> &lt;!&ndash; Require for select placeholder &ndash;&gt;-->
<!--										<option value="Canada">加拿大</option>-->
<!--										<option value="China">中国</option>-->
<!--										<option value="Ukraine">英国</option>-->
<!--										<option value="USA">美国</option>-->
<!--									</select>-->
<!--								</div>-->
<!--								<div class="form-group">-->
<!--									<select class="form-control js-select2" data-placeholder="Select state">-->
<!--										<option value="">选择省份</option> &lt;!&ndash; Require for select placeholder &ndash;&gt;-->
<!--										<option value="Arizona">湖北</option>-->
<!--										<option value="California">广东</option>-->
<!--									</select>-->
<!--								</div>-->
<!--								<div class="form-group">-->
<!--									<input type="text" class="form-control" placeholder="Zip / Postal code">-->
<!--								</div>-->
<!--								<div class="form-submit">-->
<!--									<input type="submit" class="btn btn-outline-primary btn-block" name="update_cart" value="Calculate" />-->
<!--								</div>-->
<!--							</form>-->
<!--						</div>-->

<!--						<div class="col-lg-6 cart-total">-->
<!--							<div class="cart-subtotal d-flex justify-content-between align-items-center">-->
<!--								<span>总计</span>-->
<!--								<span>¥6556.00</span>-->
<!--							</div>-->

<!--							<div class="cart-total__btns text-lg-right">-->
<!--								<button class="btn btn-outline-primary btn-lg cart-update-btn">更新&nbsp;</button>-->
<!--								<a href="checkout.html" class="btn btn-primary btn-lg cart-checkout-btn">确认下单</a>-->
<!--							</div>-->
<!--						</div>-->
<!--					</div>-->

				</div>
			</main>
		</div>
	</div>

	<div id="footer"></div>
	<script type="text/javascript">
		$('#head').load('header.html');
		$('#footer').load('footer.html');
	</script>

	<!-- Libs -->
	<script src="libs/jquery-2.2.3.min.js"></script>
	<script src="libs/bootstrap-4.3.1/js/bootstrap.min.js"></script>
	<script src="libs/select2/js/select2.min.js"></script>
	<script src="libs/slick/slick.min.js"></script>

	<!-- Theme -->
	<script src="assets/js/custom.js"></script>
</body>
</html>
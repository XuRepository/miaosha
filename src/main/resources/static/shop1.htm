<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">

	<title>Shop</title>

	<!-- Fonts -->
	<link rel="stylesheet" href="assets/fonts/Lato/Lato.css">

	<!-- Icons -->
	<link rel="stylesheet" href="assets/fonts/flaticon/flaticon.css">
	<link rel="stylesheet" href="assets/fonts/webfont/css/materialdesignicons.min.css">

	<!-- Libs -->
	<link rel="stylesheet" href="libs/bootstrap-4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="libs/select2/css/select2.min.css">
	<link rel="stylesheet" href="libs/slick/slick.css">

	<!-- Theme -->
	<link rel="stylesheet" href="assets/css/style.css">
	<meta name="theme-color" content="#ECECEC">

	<!-- jquery -->
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css" />
	<script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
	<!-- jquery-validator -->
	<script type="text/javascript" src="/jquery-validation/jquery.validate.min.js"></script>
	<script type="text/javascript" src="/jquery-validation/localization/messages_zh.min.js"></script>
	<!-- layer -->
	<script type="text/javascript" src="/layer/layer.js"></script>
	<!-- md5.js -->
	<script type="text/javascript" src="/js/md5.min.js"></script>
	<!-- common.js -->
	<script type="text/javascript" src="/js/common.js"></script>

	<script>

		window.onload(requestData());

		function requestData(){
			$.ajax({
				url:"/goods/to_list",
				type:"GET",
				success: function(data){
					console.log(data);
					/*这个方法里是ajax发送请求成功之后执行的代码*/
					showData(data);//我们仅做数据展示
				},
				error: function(msg){
					alert("ajax连接异常："+msg);
				}
			});
		}
		function showData(data) {
			var str = "";
			for (let i = 0; i < data.length; i++) {
				/*var img =*/
				str =`<li class="product">
\t\t\t\t\t\t\t<div class="product-thumb">
\t\t\t\t\t\t\t\t<span class="onsale">秒杀</span>
\t\t\t\t\t\t\t\t<a href="/single-product.htm?goodsId=${data[i].id}" class="product-thumb__link">
\t\t\t\t\t\t\t\t\t<img src="${data[i].goodsImg}" alt="">
\t\t\t\t\t\t\t\t\t<span class="btn btn-outline-light shop-link">购买</span>
\t\t\t\t\t\t\t\t</a>
\t\t\t\t\t\t\t</div>
\t\t\t\t\t\t\t<div class="product-detail">秒杀开始时间:`+data[i].startDate +`</a></div>
\t\t\t\t\t\t\t<div class="product-detail">秒杀结束时间:`+data[i].endDate+`</a></div>
\t\t\t\t\t\t\t<div class="product-title">${data[i].goodsName}</a></div>
\t\t\t\t\t\t\t<div class="price">
\t\t\t\t\t\t\t\t<ins><span class="amount">${data[i].miaoshaPrice}</span></ins>
\t\t\t\t\t\t\t\t<del><span class="amount">${data[i].goodsPrice}</span></del>
\t\t\t\t\t\t\t</div>
\t\t\t\t\t\t</li>`
				$("#goodsList").append(str);
			}
		}

		// var data=[];
		// function reqListener () {
		// 	console.log(this.responseText);
		// 	data=JSON.parse(this.responseText);
		// 	var _ul=document.getElementById("addProduct");
		// 	console.log('data',data)
		// 	for(var i=0;i<data.length;i++)
		// 	{
		// 		var _li=document.createElement("li")
		// 		_li.className="product";
		// 		var _div1=document.createElement("div")
		// 		_div1.className="product-thumb";
		// 		var _a=document.createElement("a");
		// 		_a.className="product-thumb__link";
		// 	// <td><a th:href="'/goods_detail.htm?goodsId='+${goods.id}">详情</a></td>
		// 		var goodsid= data[i].id;
		// 		// _a.href="/goods_detail.htm?goodsId="+goodsid;     //商品详情链接
		// 		_a.href="/single-product.htm?goodsId="+goodsid;     //商品详情链接
		// 		var _img=document.createElement("img");
		// 		_img.src=data[i].goodsImg;           //图片路径
		// 		_a.appendChild(_img);
		// 		_div1.appendChild(_a);
		// 		var _div2=document.createElement("div")
		// 		_div2.className="product-detail";
		// 		_div2.innerHTML="秒杀开始时间："+data[i].startDate   //商品秒杀开始时间
		// 		var _div3=document.createElement("div")
		// 		_div3.className="product-detail";
		// 		_div3.innerHTML="秒杀结束时间："+data[i].endDate //商品秒杀结束时间
		// 		var _div4=document.createElement("div")
		// 		_div4.className="product-title";
		// 		_div4.innerHTML=data[i].goodsName  //商品名称
		// 		var _div5=document.createElement("div")
		// 		_div5.className="price";
		// 		var _spanIns=document.createElement("span");
		// 		_spanIns.className="amount";
		// 		var _ins=document.createElement("ins");
		// 		_spanIns.innerHTML=data[i].miaoshaPrice    //添加秒杀价格
		// 		_ins.appendChild(_spanIns);
		// 		var _del=document.createElement("del");
		// 		_spanIns.innerHTML=data[i].goodsPrice  //添加商品原价
		// 		//var _spanDel=document.createElement("span");
		// 		_del.appendChild(_spanIns);
		// 		var _span=document.createElement("span");
		// 		_span.innerHTML="库存: "+data[i].stockCount  //添加商品库存量
		// 		//添加商品价格类标签
		// 		_div5.appendChild(_span);
		// 		_div5.appendChild(_del);
		// 		_div5.appendChild(_ins);
		// 		_li.appendChild(_div5);
		// 		_li.appendChild(_div4);
		// 		_li.appendChild(_div2);
		// 		_li.appendChild(_div3);
		// 		_li.appendChild(_div1);
		// 		_ul.appendChild(_li);
		// 	}
		// }
		// var oReq = new XMLHttpRequest();
		// oReq.addEventListener("load", reqListener);
		// oReq.open("GET", "/goods/to_list");
		// oReq.send();

	</script>
</head>
<body>
	<div class="head-line"></div>

	<div id="head"></div>

	<div class="page-wrap archive shop">
		<!-- Breadcrumbs -->
		<nav aria-label="breadcrumb" class="page-breadcrumb">
			<div class="container">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="/">主页</a></li>
					<li class="breadcrumb-item active" aria-current="page">秒杀</li>
				</ol>
			</div>
		</nav>

		<div class="page-content">
			<main class="main-content">
				<div class="container">
<!--					<div class="shop-controls d-flex align-items-center">-->
<!--						<div class="shop-control">-->
<!--							<label for="per_page" class="control-label">页码:</label>-->
<!--							<select id="per_page" name="perpage" class="prod-per-page js-select2 select-style select2-hidden-accessible" data-select2-id="per_page" tabindex="-1" aria-hidden="true">-->
<!--								<option value="12" data-select2-id="5">12</option>-->
<!--								<option value="24">24</option>-->
<!--							</select><span class="select2 select2-container select2-container&#45;&#45;default" dir="ltr" data-select2-id="4" style="width: 64px;"><span class="selection"><span class="select2-selection select2-selection&#45;&#45;single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-per_page-container"><span class="select2-selection__rendered" id="select2-per_page-container" role="textbox" aria-readonly="true" title="12">12</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>-->
<!--						</div>-->
<!--						<div class="shop-control">-->
<!--							<label for="order_by" class="control-label">排序:</label>-->
<!--							<select id="order_by" name="orderby" class="orderby js-select2 select-style select2-hidden-accessible" data-select2-id="order_by" tabindex="-1" aria-hidden="true">-->
<!--								<option value="1" data-select2-id="7">从高到低</option>-->
<!--								<option value="1">从低到高</option>-->
<!--							</select><span class="select2 select2-container select2-container&#45;&#45;default" dir="ltr" data-select2-id="6" style="width: 112px;"><span class="selection"><span class="select2-selection select2-selection&#45;&#45;single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-order_by-container"><span class="select2-selection__rendered" id="select2-order_by-container" role="textbox" aria-readonly="true" title="从高到低">从高到低</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>-->
<!--						</div>-->
<!--					</div>-->

					<ul class="products columns-4" id="goodsList"></ul>

					<nav class="shop-pagination text-center">
						<ul class="pagination justify-content-center">
							<!-- <li>
							  <a href="#" aria-label="Previous">
								<span aria-hidden="true"><i class="flaticon-left-arrow-sign"></i> Previous</span>
							  </a>
							</li> -->
							<li class="active"><a href="#">01</a></li>
							<li><a href="#">02</a></li>
							<li><a href="#">03</a></li>
							<li><a href="#">04</a></li>
							<li><a href="#">05</a></li>
							<li><a href="#">...</a></li>
							<li><a href="#">28</a></li>
							<li>
								<a href="#" aria-label="Next">
									<span aria-hidden="true">下一页 <i class="flaticon-right-direction"></i></span>
								</a>
							</li>
						</ul>
					</nav>
				</div>
			</main>
		</div>

<!--		<div class="page-content">-->
<!--			<main class="main-content">-->
<!--				<div class="container">-->
<!--&lt;!&ndash;					<div class="shop-controls d-flex align-items-center">&ndash;&gt;-->
<!--&lt;!&ndash;						<div class="shop-control">&ndash;&gt;-->
<!--&lt;!&ndash;							<label for="per_page" class="control-label">页码:</label>&ndash;&gt;-->
<!--&lt;!&ndash;							<select id="per_page" name="perpage" class="prod-per-page js-select2 select-style">&ndash;&gt;-->
<!--&lt;!&ndash;								<option value="12">12</option>&ndash;&gt;-->
<!--&lt;!&ndash;								<option value="24">24</option>&ndash;&gt;-->
<!--&lt;!&ndash;							</select>&ndash;&gt;-->
<!--&lt;!&ndash;						</div>&ndash;&gt;-->
<!--&lt;!&ndash;						<div class="shop-control">&ndash;&gt;-->
<!--&lt;!&ndash;							<label for="order_by" class="control-label">排序:</label>&ndash;&gt;-->
<!--&lt;!&ndash;							<select id="order_by" name="orderby" class="orderby js-select2 select-style">&ndash;&gt;-->
<!--&lt;!&ndash;								<option value="1">从高到低</option>&ndash;&gt;-->
<!--&lt;!&ndash;								<option value="1">从低到高</option>&ndash;&gt;-->
<!--&lt;!&ndash;							</select>&ndash;&gt;-->
<!--&lt;!&ndash;						</div>&ndash;&gt;-->
<!--&lt;!&ndash;					</div>&ndash;&gt;-->

<!--&lt;!&ndash;					<ul class="products columns-4" id="addProduct">&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;						<span class="amount" id="_span">123</span>&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;					</ul>&ndash;&gt;-->
<!--					<span class="price" id="_span"></span>-->
<!--					<nav class="shop-pagination text-center">-->
<!--						<ul class="pagination justify-content-center">-->
<!--							&lt;!&ndash; <li>-->
<!--							  <a href="#" aria-label="Previous">-->
<!--								<span aria-hidden="true"><i class="flaticon-left-arrow-sign"></i> Previous</span>-->
<!--							  </a>-->
<!--							</li> &ndash;&gt;-->
<!--							<li class="active"><a href="#">01</a></li>-->
<!--							<li><a href="#">02</a></li>-->
<!--							<li><a href="#">03</a></li>-->
<!--							<li><a href="#">04</a></li>-->
<!--							<li><a href="#">05</a></li>-->
<!--							<li><a href="#">...</a></li>-->
<!--							<li><a href="#">28</a></li>-->
<!--							<li>-->
<!--								<a href="#" aria-label="Next">-->
<!--									<span aria-hidden="true">下一页 <i class="flaticon-right-direction"></i></span>-->
<!--								</a>-->
<!--							</li>-->
<!--						</ul>-->
<!--					</nav>-->
<!--				</div>-->
<!--			</main>-->
<!--		</div>-->
	</div>

	<div id="footer"></div>
	<script type="text/javascript">
		$('#head').load('header.html');
		$('#footer').load('footer.html');
	</script>


	<!-- Libs -->
	<script src="libs/jquery-2.2.3.min.js"></script>
	<script src="libs/bootstrap-4.3.1/js/bootstrap.min.js"></script>
	<script src="libs/select2/js/select2.min.js"></script>
	<script src="libs/slick/slick.min.js"></script>

	<!-- Theme -->
	<script src="assets/js/custom.js"></script>
</body>
</html>